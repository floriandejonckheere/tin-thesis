\chapter{Data stores}
\label{ch:data-stores}

\section{Selected data stores}
\label{sec:selected-data-stores}

Due to the large number of NoSQL data stores it is not possible to consider all of them for this research.
In every applicable NoSQL category the most popular data stores are selected, where popularity is based on certain predetermined parameters.
\textcite{DBEngine2018} maintains a list of database systems ranked by popularity, based on parameters such as number of mentions on websites, Google Trends and availability of relevant jobs.
The list includes not only NoSQL databases but also other types of data storage systems such as relational database systems.
This ranking, named DB-Engine Ranking, is used primarily to determine which data stores are the most interesting to consider in this research.
Due to licensing concerns regarding the Open Webslides project, database systems that do not fall under a free license as classified by the \textcite{FreeSoftwareFoundation1985} will not be considered.

Certain categories of NoSQL data stores will not be considered.
Key-value stores will not be accounted for due to the relative simplicity of this type of data store.
The main use case of key/value stores is not storing more complex information, rather the emphasis lies more on scalability and consistency.
Processing complex queries that consist of the NoSQL equivalent of relational joins is not efficient in key-value data stores.
Implementing the proposed data model and queries in such a system is a more ambitious task that does not lie within the scope of the research.

Furthermore, NewSQL data stores will not be included in the research either.
As described in \cref{ch:overview}, NewSQL aims to provide scalable performance similar to that of NoSQL while still guaranteeing ACID properties.
Since ACID is not a major concern for this use case, NewSQL does not provide significant advantage over NoSQL, and will therefore be omitted from the comparison.

Similarly, object-oriented and multi-model database such as OrientDB \autocite{OrientDB2010} are not within scope of this research.
The comparison will thus aim at document, column and graph data stores.

The most popular document database systems according to the DB-Engine Ranking are MongoDB \autocite{MongoDB2009}, CouchDB \autocite{CouchDB2005} and Couchbase \autocite{Couchbase2010}.
While Couchbase is technically a multi-model data store, it is being ranked as a document database.
However, Couchbase is a conceptual merge between CouchDB and Membase, and mainly adds improved scalability, clustering and auto-sharding.
Couchbase will not be investigated upon in a practical capacity, however it is considered as an option to increase multi-host scalability.
This leads to MongoDB and CouchDB being the contestants in the document database system category.

As (wide) column data stores, Cassandra \autocite{Cassandra2008} and HBase \autocite{HBase2005} are among the highest ranked databases.
These two database systems will be selected as candidates for the second NoSQL category.

Finally, as sole graph database the Neo4j system \autocite{Neo4j2007} stands out greatly over competitors in the ranking.
This database system will be analyzed as only graph database in this research.

In conclusion, the data stores included in the study will be MongoDB and CouchDB as document databases, Cassandra and HBase as column databases and Neo4j as graph databases.

\section{Comparative study}
\label{sec:comparative-study}

Data stores and databases can be compared and analyzed using many quantitative and qualitative aspects.
In this thesis we propose a selection of criteria based on the usefulness applied to the studied use case.
Since the landscape and feature-set of NoSQL data stores is changing on a weekly base, the impact of these technologies must be carefully considered in order to reach a durable conclusion in this research.

The features of a data store that are taken into account in this comparative study are:

\begin{itemize}
  %% Features
  \item Persistence
    % In-memory, SSD, HDFS
  \item Querying capabilities
    \begin{itemize}
      \item Language
        % HTTP/REST, Cypher, BSON, SparQL
      \item Protocol
        % HTTP, REST, binary, Thrift
      \item MapReduce
      \item SQL
    \end{itemize}
  \item Language bindings

  %% Integrity
  \item Integrity model
    % ACID, BASE

  \item Atomicity
  \item Consistency
  \item Isolation
  \item Durability
  \item Transactions

  %% Scalability
  \item Partitioning
  \item High Availability
  \item Concurrency
    % MVCC
  \item Replication


  %% Various
  \item License
  \item Commercial support
\end{itemize}

Certain aspects are not relevant to the presented use case because of various reasons.
Aspects omitted from the study are:

\begin{itemize}
  \item Security
  \item Compression
  \item Full-text search
  \item Geospatial functionality
  \item Cloud hosting
\end{itemize}

% Security: auditing, authentication, authorization
The specific use case described in this thesis does not focus on security, since the data store is not public facing and clients do not interact directly with it.
Security measures include but are not limited to authentication, authorization, encryption and auditing.
None of these are features that are required or useful for the comparison.
Authentication and authorization is functionality that is present in all databases.
It introduces the concept of multiple clients or roles connecting to a database, and assigning permissions to these clients in order to enforce permissions-based access.
However since there will only be one client connecting to the database - the platform itself - deeper integration with LDAP, ActiveDirectory or similar is superfluous and omitted from the comparison.

Encryption refers to the mechanism where data is encrypted and unreadable for unauthorized third parties.
Encryption in databases is threefold: encryption of data at rest, client-to-server communication and server-to-server communication \autocite{Grolinger2013}.
However, since data protection is a comprehensive topic, it does not fall within the scope of this research.
Consequently, encryption functionality is not considered in the comparative study.

Database auditing is a facility offered by the database management system that keeps track of the usage of database resources and authorization.
Operations on the database leave a trail of events, called an \textit{audit log}.
Similarly to authentication, the usefulness of this functionality is somewhat lost when there is only one client operating on the database.
However, many security standards such as PCI-DSS and HIPAA require the existance of an audit log.

Compression of data in the database is not included in the comparison.
Builtin compression may provide additional storage space but as it is a disk space-CPU usage tradeoff we have chosen to only consider CPU usage.
Akin to compression, we leave the choice of cloud hosting up to the database administrator.

Full-text search and geospatial functions are provided by certain data stores, however these features are not used by the platform.
